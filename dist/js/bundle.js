!function(e){function t(t){for(var n,o,r=t[0],l=t[1],s=0,a=[];s<r.length;s++)o=r[s],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&a.push(i[o][0]),i[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(c&&c(t);a.length;)a.shift()()}var n={},i={0:0};function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.e=function(){return Promise.resolve()},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var s=0;s<r.length;s++)t(r[s]);var c=l;o(o.s=0)}([function(e,t,n){"use strict";function i(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function o(e,t,n,i){var o=n-e,r=i-t;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}function r(e,t){return{x:e.x*Math.cos(t)-e.y*Math.sin(t),y:e.x*Math.sin(t)+e.y*Math.cos(t)}}function l(e,t){const n=e.velocity.x-t.velocity.x,i=e.velocity.y-t.velocity.y;if(n*(t.x-e.x)+i*(t.y-e.y)>=0){const n=-Math.atan2(t.y-e.y,t.x-e.x),i=e.mass,o=t.mass,l=r(e.velocity,n),s=r(t.velocity,n),c={x:l.x*(i-o)/(i+o)+2*s.x*o/(i+o),y:l.y},a={x:s.x*(i-o)/(i+o)+2*l.x*o/(i+o),y:s.y},u=r(c,-n),d=r(a,-n);e.velocity.x=u.x,e.velocity.y=u.y,t.velocity.x=d.x,t.velocity.y=d.y}}n.r(t),n.d(t,"c",(function(){return u})),n.d(t,"canvas",(function(){return a})),n.d(t,"GC",(function(){return d}));var s=function(){function e(e,t,n,i){this._x=e,this._y=t,this.radius=n,this.isInfected=i,this.velocity={x:2*(Math.random()-.5),y:2*(Math.random()-.5)},this.mass=1}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e},enumerable:!0,configurable:!0}),e.prototype.draw=function(){u.beginPath(),u.arc(this._x,this._y,this.radius,0,2*Math.PI),this.isInfected?u.fillStyle="rgba(255, 0, 0, .5)":u.fillStyle="rgba(0, 0, 0, .5)",u.fill()},e.prototype.update=function(){this.draw(),this.keepDistance();for(var e=0;e<d.people.length;e++){if(o(d.mouse.x,d.mouse.y,d.people[e].x,d.people[e].y)-8*this.radius<=0){d.people[e].x+=d.mouse.x>d.people[e].x+this.radius?-1:1,d.people[e].y+=d.mouse.y>d.people[e].y+this.radius?-1:1;for(var t=0;t<d.people.length;t++){o(d.people[e].x,d.people[e].y,d.people[t].x,d.people[t].y)-4*this.radius<=0&&(d.people[e].isInfected&&!d.people[t].isInfected&&(d.people[t].isInfected=!0),!d.people[e].isInfected&&d.people[t].isInfected&&(d.people[e].isInfected=!1))}}}o(this.x,this.y,d.zone.x,d.zone.y)<50&&(this.isInfected=!0),this._x-this.radius<0?(this.x=this.radius,this.velocity.x*=-1):this._x+this.radius>a.width&&(this.x=a.width-this.radius,this.velocity.x*=-1),this._y-this.radius<0?(this.y=this.radius,this.velocity.y*=-1):this._y+this.radius>a.height&&(this.y=a.height-this.radius,this.velocity.y*=-1),this._x+=this.velocity.x,this._y+=this.velocity.y},e.prototype.keepDistance=function(){for(var e=0;e<d.people.length;e++){if(d.people[e]!==this)o(this._x,this._y,d.people[e].x,d.people[e].y)-4*this.radius<=0&&l(this,d.people[e])}},e}();Promise.resolve().then(n.t.bind(null,1,7));var c,a=document.getElementById("canvas"),u=a.getContext("2d");a.width=1300,a.height=800,function(e){e[e.START_SCREEN=0]="START_SCREEN",e[e.IN_GAME=1]="IN_GAME",e[e.GAME_OVER=2]="GAME_OVER"}(c||(c={}));var d={people:[],startTime:new Date,endTime:new Date,gameState:c.START_SCREEN,uninfected:200,infected:300,mouse:{x:-200,y:-200},zone:{x:-200,y:-200}};function f(){d.people=[],d.zone.x=-200,d.zone.y=-200,p(d.uninfected,!1),p(d.infected,!0),d.startTime=new Date}function p(e,t){for(var n=0;n<e;n++){var r=i(10,a.width-10),l=i(10,a.height-10);if(0!==n)for(var c=0;c<d.people.length;c++){o(d.people[c].x,d.people[c].y,r,l)-20<=0&&(r=i(10,a.width-10),l=i(10,a.height-10),c=-1)}d.people.push(new s(r,l,10,t))}}function y(){if(d.gameState===c.IN_GAME)requestAnimationFrame(y),u.clearRect(0,0,a.width,a.height),u.clearRect(0,0,a.width,a.height),u.beginPath(),u.rect(0,0,a.width,a.height),u.fillStyle="rgba(255, 255, 255, 1)",u.fill(),d.people.forEach((function(e){e.update()})),u.beginPath(),u.arc(d.zone.x,d.zone.y,40,0,2*Math.PI),u.fillStyle="rgba(31, 89, 24, 0.8)",u.fill(),function(){u.beginPath(),u.fillStyle="rgba(0, 0, 0, .6)",u.rect(0,0,320,36),u.fill(),u.font="14px arial",u.fillStyle="white";var e=0,t=0;d.people.forEach((function(n){n.isInfected?e++:t++})),u.fillText("Infected: "+e,100,23),u.fillText("Uninfected: "+t,200,23),0===t&&(d.gameState=c.GAME_OVER)}();else if(d.gameState===c.GAME_OVER){d.endTime=new Date;var e=function(){var e=(d.endTime-d.startTime)/1e3,t=d.uninfected/d.infected*1e5/e;t<0&&(t=0);return Math.round(t)}();document.getElementById("score").textContent=e.toString(),document.getElementById("menu-end").style.display="block"}else document.getElementById("menu").style.display="block"}a.addEventListener("click",(function(){d.zone.x=d.mouse.x,d.zone.y=d.mouse.y})),document.getElementById("play").addEventListener("click",(function(){var e=parseInt(document.getElementById("infected-count").value),t=parseInt(document.getElementById("uninfected-count").value);e<1||e>10||isNaN(e)?d.infected=1:d.infected=e,t<20||t>200||isNaN(t)?d.uninfected=10:d.uninfected=t,f(),d.gameState=c.IN_GAME,document.getElementById("menu").style.display="none",y()})),document.getElementById("re-play").addEventListener("click",(function(){d.gameState=c.IN_GAME,document.getElementById("menu-end").style.display="none",f(),y()})),document.getElementById("main-menu").addEventListener("click",(function(){d.gameState=c.START_SCREEN,document.getElementById("menu-end").style.display="none",y()})),a.addEventListener("mousemove",(function(e){!function(e){var t=a.getBoundingClientRect();d.mouse.x=e.clientX-t.left,d.mouse.y=e.clientY-t.top}(e)})),y()},function(e,t,n){}]);